[06/16/22]seed@VM:~/.../second$ sudo sysctl -w kernel.randomize_va_space=0
kernel.randomize_va_space = 0
[06/16/22]seed@VM:~/.../second$ sudo ln -sf /bin/zsh /bin/sh
[06/16/22]seed@VM:~/.../second$ 
[06/16/22]seed@VM:~/.../second$ su root
Password: 
root@VM:/home/seed/practice/second# gcc -DBUF_SIZE=160 -m32 -o stack -z execstack -fno-stack-protector stack.c
root@VM:/home/seed/practice/second# sudo chown root stack
root@VM:/home/seed/practice/second# sudo chmod 4755 stack
root@VM:/home/seed/practice/second# su seed
[06/16/22]seed@VM:~/.../second$ touch badfile
[06/16/22]seed@VM:~/.../second$ python3 exploit.py 
[06/16/22]seed@VM:~/.../second$ ./stack
Input size: 500
# ex  whoami                                                                   
root
# exit                                                                         
[06/16/22]seed@VM:~/.../second$ su root
Password: 
root@VM:/home/seed/practice/second# gcc -DBUF_SIZE=160 -m32 -o stack -z execstack -fno-stack-protector stack.c
root@VM:/home/seed/practice/second# gcc -DBUF_SIZE=161 -m32 -o stack -z execstack -fno-stack-protector stack.c
root@VM:/home/seed/practice/second# sudo chown root stack
root@VM:/home/seed/practice/second# sudo chmod 4755 stack
root@VM:/home/seed/practice/second# su seed
[06/16/22]seed@VM:~/.../second$ ls
badfile  exploit.py                  stack    stack_dbg
cmd.txt  peda-session-stack_dbg.txt  stack.c
[06/16/22]seed@VM:~/.../second$ rm badfile 
[06/16/22]seed@VM:~/.../second$ python3 exploit.py 
[06/16/22]seed@VM:~/.../second$ ./stack
Input size: 500
Segmentation fault
[06/16/22]seed@VM:~/.../second$ multiplier of 4 needed for [0 : 220 ] if not then do like third example 

